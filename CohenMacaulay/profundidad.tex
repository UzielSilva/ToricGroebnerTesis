\section{Profundidad}

Retomando las observaciones de la sección anterior, si tenemos $I$ ideal de un anillo $R$, y $M$ un $R$-módulo, entonces la profundidad de $I$ en $M$ es la longitud de cualquier $M$-sucesión maximal contenida en $I$.

Frecuentemente nos veremos en el caso de localizar un anillo, así que algunas observaciones sobre el comportamiento de la profundidad bajo localizaciones serán de utilidad.

\begin{lemma}
Si $R$ es un anillo, y $P$ es un ideal primo en el soporte de un $R$-módulo finítamente generado $M$. Entonces toda $M$-sucesión en $P$ localiza a una $M_P$ sucesión. De esta manera, para cualquier ideal $I \subset P$ tenemos que $\depth(I,M) \leq \depth(I_P, M_P)$, este último tomado en el anillo $R_P$. En general, la desigualdad puede ser estricta, pero para cualquier ideal $I$, existen ideales maximales $P$ en el soporte de $M$ tales que $\depth(I,M) = \depth(I_P, M_P)$. En particular, si $P$ es un ideal maximal, entonces $\depth(P,M) = \depth(P_P, M_P)$.
\end{lemma}

\begin{proof}
Probemos la primera afirmación, el lema de Nakayama nos garantiza que $I_PM_P \neq M_P$, que es la única parte de la demostración que no es tan evidente. La profundidad puede crecer dado a que la localización $M \rightarrow M_P$ puede anular elementos que anulaban en $M$ a elementos de $I$, por lo tanto, estos elementos de $I$ se volverían regulares.

Para la segunda afirmación, sea $I = (x_1,\dots,x_n)$ y $r = \depth(I, M) \leq n$. Sea $j < r$, por el teorema \ref{sequence-length-r-theorem}, $H^r(M \otimes K(x_1,\dots,x_n)) \neq 0$, $H^j(M \otimes K(x_1,\dots,x_n)) = 0$. Al localizar a $R$ en $P$ inducimos a un nuevo complejo de Koszul, observemos que si $I \not\subset P$, entonces $H^n(M\otimes K(x_1,\dots,x_n))_P \cong M_P/(x_1,\dots,x_n)M_P = 0$, por lo tanto, por el Teorema \ref{sequence-criterion-regular},  $P$ no estaría en el soporte de $H^r(M \otimes K(x_1,\dots,x_n))$. Así, los ideales primos $P$ que contienen a $I$ tales que $\depth(I_P, M_P) = \depth(I, M)$ son exactamente los ideales primos en el soporte de $H^r(M \otimes K(x_1,\dots,x_n))$, el cual es no vacío y contiene ideales maximales gracias al Lema \ref{localized-module-not-zero}. La última afirmación del lema es un caso particular de la segunda afirmación.
\end{proof}

Ya hemos dicho que la profundidad de $I$ es un tipo de medida del tamaño de $I$, tal como la codimensión. En esta sección vamos a explorar la relación entre estas dos medidas. Primero mostraremos que siempre se respeta la desigualdad $\depth(I) \leq \codim(I)$. Es técnicamente útil trabajar con la profundidad de $I$ en un módulo $M$, si $x \in R$ entonces la acción de $x$ en $M$ depende solamente de la clase de $x$ módulo $\ann(M)$, así que la profundidad de $I$ en $M$ es la misma que la de $I + ann(M)$ en $M$. Por esto mismo nos enfocaremos en ideales que contengan a $\ann(M)$.

Antes de continuar demostremos un resultado que desempeña en la teoría de la dimensión un papel parecido al del teorema del ideal principal en la teoría de la codimensión.

\begin{lemma}\label{fixed-depth-localization}
Si $R$ es un anillo local con $P$ ideal maximal, $M$ es un $R$-módulo finítamente generado, $I$ es u ideal de $R$, y $y \in P$, entonces

$$\depth((I,y),M) \leq \depth(I,M) + 1$$

\end{lemma}

\begin{proof}
Sea $x_1, \dots, x_n$ un conjunto de generadores de $I$, y sea $r = \depth(I+(y), M)$. Sea $i<r$, por el Teorema \ref{sequence-length-r-theorem}, $H^i(M\otimes K(x_1,\dots,x_n)) = 0$. Por el (Corolario que está en eisenbud, considerar agregarlo o no)
\end{proof}

\begin{proposition}\label{depth-leq-codimension}
Sea $R$ anillo y $M$ un $R$-módulo finítamente generado. Si $I$ es un ideal de $R$ que contiene a $\ann(M)$, entonces $\depth(M)$ es menor o igual a la longitud de cualquier cadena maximal de ideales primos que descienden de un ideal primo que contiene a $I$ hasta un ideal de la forma $\ann(N)$, donde $N$ es un submódulo primo de $M$(a estos ideales se les llama ideales asociados de $M$). En particular, la profundidad de $I$ (en $R$) es menor o igual a la codimensión de $I$.
\end{proposition}

\begin{proof}
Sea $x_1,\dots,x_n$ una $M$-sucesión maximal en $I$. Como $x_1$ es regular, no está contenido en ningún ideal primo minimal de $R$, así que $\codim(I/(x_1))$ (como un ideal en $R/(x_1)$) $\leq codim(I)$.
\end{proof}

